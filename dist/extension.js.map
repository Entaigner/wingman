{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://nvmse/./node_modules/.pnpm/json-buffer@3.0.1/node_modules/json-buffer/index.js","webpack://nvmse/./node_modules/.pnpm/keyv@4.5.2/node_modules/keyv/src/index.js","webpack://nvmse/./node_modules/.pnpm/keyv@4.5.2/node_modules/keyv/src/ sync","webpack://nvmse/./src/extension.ts","webpack://nvmse/./src/template_handler.ts","webpack://nvmse/./src/template_render.ts","webpack://nvmse/external commonjs \"vscode\"","webpack://nvmse/external node-commonjs \"events\"","webpack://nvmse/external node-commonjs \"fs\"","webpack://nvmse/external node-commonjs \"path\"","webpack://nvmse/./node_modules/.pnpm/@dqbd+tiktoken@1.0.7/node_modules/@dqbd/tiktoken/tiktoken.cjs","webpack://nvmse/./node_modules/.pnpm/@dqbd+tiktoken@1.0.7/node_modules/@dqbd/tiktoken/tiktoken_bg.cjs","webpack://nvmse/./node_modules/.pnpm/p-timeout@6.1.1/node_modules/p-timeout/index.js","webpack://nvmse/./node_modules/.pnpm/quick-lru@6.1.1/node_modules/quick-lru/index.js","webpack://nvmse/external node-commonjs \"crypto\"","webpack://nvmse/./node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-node/native.js","webpack://nvmse/./node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-node/rng.js","webpack://nvmse/./node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-node/stringify.js","webpack://nvmse/./node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-node/v4.js","webpack://nvmse/./node_modules/.pnpm/eventsource-parser@1.0.0/node_modules/eventsource-parser/dist/index.js","webpack://nvmse/./node_modules/.pnpm/chatgpt@5.2.4/node_modules/chatgpt/build/index.js","webpack://nvmse/webpack/bootstrap","webpack://nvmse/webpack/runtime/compat get default export","webpack://nvmse/webpack/runtime/define property getters","webpack://nvmse/webpack/runtime/hasOwnProperty shorthand","webpack://nvmse/webpack/runtime/make namespace object","webpack://nvmse/webpack/runtime/node module decorator","webpack://nvmse/webpack/startup"],"sourcesContent":["//TODO: handle reviver/dehydrate function like normal\n//and handle indentation, like normal.\n//if anyone needs this... please send pull request.\n\nexports.stringify = function stringify (o) {\n  if('undefined' == typeof o) return o\n\n  if(o && Buffer.isBuffer(o))\n    return JSON.stringify(':base64:' + o.toString('base64'))\n\n  if(o && o.toJSON)\n    o =  o.toJSON()\n\n  if(o && 'object' === typeof o) {\n    var s = ''\n    var array = Array.isArray(o)\n    s = array ? '[' : '{'\n    var first = true\n\n    for(var k in o) {\n      var ignore = 'function' == typeof o[k] || (!array && 'undefined' === typeof o[k])\n      if(Object.hasOwnProperty.call(o, k) && !ignore) {\n        if(!first)\n          s += ','\n        first = false\n        if (array) {\n          if(o[k] == undefined)\n            s += 'null'\n          else\n            s += stringify(o[k])\n        } else if (o[k] !== void(0)) {\n          s += stringify(k) + ':' + stringify(o[k])\n        }\n      }\n    }\n\n    s += array ? ']' : '}'\n\n    return s\n  } else if ('string' === typeof o) {\n    return JSON.stringify(/^:/.test(o) ? ':' + o : o)\n  } else if ('undefined' === typeof o) {\n    return 'null';\n  } else\n    return JSON.stringify(o)\n}\n\nexports.parse = function (s) {\n  return JSON.parse(s, function (key, value) {\n    if('string' === typeof value) {\n      if(/^:base64:/.test(value))\n        return Buffer.from(value.substring(8), 'base64')\n      else\n        return /^:/.test(value) ? value.substring(1) : value \n    }\n    return value\n  })\n}\n","'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\trediss: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t\tetcd: '@keyv/etcd',\n\t\toffline: '@keyv/offline',\n\t\ttiered: '@keyv/tiered',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nconst iterableAdapters = [\n\t'sqlite',\n\t'postgres',\n\t'mysql',\n\t'mongo',\n\t'redis',\n\t'tiered',\n];\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, {emitErrors = true, ...options} = {}) {\n\t\tsuper();\n\t\tthis.opts = {\n\t\t\tnamespace: 'keyv',\n\t\t\tserialize: JSONB.stringify,\n\t\t\tdeserialize: JSONB.parse,\n\t\t\t...((typeof uri === 'string') ? {uri} : uri),\n\t\t\t...options,\n\t\t};\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = {...this.opts};\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (this.opts.compression) {\n\t\t\tconst compression = this.opts.compression;\n\t\t\tthis.opts.serialize = compression.serialize.bind(compression);\n\t\t\tthis.opts.deserialize = compression.deserialize.bind(compression);\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function' && emitErrors) {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\n\t\tconst generateIterator = iterator => async function * () {\n\t\t\tfor await (const [key, raw] of typeof iterator === 'function'\n\t\t\t\t? iterator(this.opts.store.namespace)\n\t\t\t\t: iterator) {\n\t\t\t\tconst data = this.opts.deserialize(raw);\n\t\t\t\tif (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tyield [this._getKeyUnprefix(key), data.value];\n\t\t\t}\n\t\t};\n\n\t\t// Attach iterators\n\t\tif (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n\t\t\tthis.iterator = generateIterator(this.opts.store);\n\t\t} else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts\n\t\t\t&& this._checkIterableAdaptar()) {\n\t\t\tthis.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n\t\t}\n\t}\n\n\t_checkIterableAdaptar() {\n\t\treturn iterableAdapters.includes(this.opts.store.opts.dialect)\n\t\t\t|| iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\t_getKeyPrefixArray(keys) {\n\t\treturn keys.map(key => `${this.opts.namespace}:${key}`);\n\t}\n\n\t_getKeyUnprefix(key) {\n\t\treturn key\n\t\t\t.split(':')\n\t\t\t.splice(1)\n\t\t\t.join(':');\n\t}\n\n\tget(key, options) {\n\t\tconst {store} = this.opts;\n\t\tconst isArray = Array.isArray(key);\n\t\tconst keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\t\tif (isArray && store.getMany === undefined) {\n\t\t\tconst promises = [];\n\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\tpromises.push(Promise.resolve()\n\t\t\t\t\t.then(() => store.get(key))\n\t\t\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t.then(values => {\n\t\t\t\t\tconst data = [];\n\t\t\t\t\tfor (const value of values) {\n\t\t\t\t\t\tdata.push(value.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t.then(data => {\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (isArray) {\n\t\t\t\t\tconst result = [];\n\n\t\t\t\t\tfor (let row of data) {\n\t\t\t\t\t\tif ((typeof row === 'string')) {\n\t\t\t\t\t\t\trow = this.opts.deserialize(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row === undefined || row === null) {\n\t\t\t\t\t\t\tresult.push(undefined);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof row.expires === 'number' && Date.now() > row.expires) {\n\t\t\t\t\t\t\tthis.delete(key).then(() => undefined);\n\t\t\t\t\t\t\tresult.push(undefined);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push((options && options.raw) ? row : row.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst {store} = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tif (typeof value === 'symbol') {\n\t\t\t\t\tthis.emit('error', 'symbol cannot be serialized');\n\t\t\t\t}\n\n\t\t\t\tvalue = {value, expires};\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst {store} = this.opts;\n\t\tif (Array.isArray(key)) {\n\t\t\tconst keyPrefixed = this._getKeyPrefixArray(key);\n\t\t\tif (store.deleteMany === undefined) {\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\t\tpromises.push(store.delete(key));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t\t.then(values => values.every(x => x.value === true));\n\t\t\t}\n\n\t\t\treturn Promise.resolve()\n\t\t\t\t.then(() => store.deleteMany(keyPrefixed));\n\t\t}\n\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n\n\thas(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(async () => {\n\t\t\t\tif (typeof store.has === 'function') {\n\t\t\t\t\treturn store.has(keyPrefixed);\n\t\t\t\t}\n\n\t\t\t\tconst value = await store.get(keyPrefixed);\n\t\t\t\treturn value !== undefined;\n\t\t\t});\n\t}\n\n\tdisconnect() {\n\t\tconst {store} = this.opts;\n\t\tif (typeof store.disconnect === 'function') {\n\t\t\treturn store.disconnect();\n\t\t}\n\t}\n}\n\nmodule.exports = Keyv;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 621;\nmodule.exports = webpackEmptyContext;","// The module 'vscode' contains the VS Code extensibility API\n// Import the module and reference it with the alias vscode in your code below\n// import fs from \"node:fs\";\n// import path from \"node:path\";\n\nimport * as vscode from \"vscode\";\n\nimport { templateHandler } from \"./template_handler\";\nimport { defaultTemplates, type Template } from \"./template_render\";\n\nexport const getConfig = (key: string, fallback: unknown) => {\n  const config = vscode.workspace.getConfiguration(\"nvmse\");\n  if (fallback) {\n    return config.get(key, fallback);\n  }\n  return config.get(key);\n};\n\nexport const display = (message: string) => {\n  vscode.window.showInformationMessage(message);\n};\n\nexport class MainViewProvider implements vscode.WebviewViewProvider {\n  public static readonly viewType = \"nvmse.mainView\";\n  private _view?: vscode.WebviewView;\n\n  constructor(private readonly _extensionPath: string, private readonly _extensionUri: vscode.Uri) {}\n\n  resolveWebviewView(webviewView: vscode.WebviewView, _context: vscode.WebviewViewResolveContext<unknown>, _token: vscode.CancellationToken): void | Thenable<void> {\n    webviewView.webview.options = {\n      enableScripts: true,\n      localResourceRoots: [this._extensionUri],\n    };\n    this._view = webviewView;\n\n    // webviewView.webview.html = getWebviewContent();\n    webviewView.webview.html = this._getHtmlForWebview(webviewView.webview);\n\n    webviewView.webview.onDidReceiveMessage((data) => {\n      switch (data.type) {\n        case \"webviewLoaded\": {\n          break;\n        }\n        case \"sendMessage\": {\n          break;\n        }\n        case \"abort\": {\n          break;\n        }\n        case \"command\": {\n          display(`Received command ${JSON.stringify(data)}`);\n          SecondaryViewProvider.runCommand(data.value);\n          break;\n        }\n      }\n    });\n  }\n\n  private _getHtmlForWebview(webview: vscode.Webview) {\n    // Get the local path to main script run in the webview, then convert it to a uri we can use in the webview.\n    const scriptUri = webview.asWebviewUri(vscode.Uri.joinPath(this._extensionUri, \"media\", \"main.js\"));\n\n    // Do the same for the stylesheet.\n    const styleResetUri = webview.asWebviewUri(vscode.Uri.joinPath(this._extensionUri, \"media\", \"reset.css\"));\n    const styleVSCodeUri = webview.asWebviewUri(vscode.Uri.joinPath(this._extensionUri, \"media\", \"vscode.css\"));\n    const styleMainUri = webview.asWebviewUri(vscode.Uri.joinPath(this._extensionUri, \"media\", \"main.css\"));\n\n    // Use a nonce to only allow a specific script to be run.\n    const nonce = getNonce();\n\n    const builtinTemplates = [...defaultTemplates];\n    const userTemplates = getConfig(\"userCommands\", []) as Template[];\n    const allTemplates = [...builtinTemplates, ...userTemplates];\n\n    return `<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\n\t\t\t\t<!--\n\t\t\t\t\tUse a content security policy to only allow loading styles from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n\t\t\t\t\t(See the 'webview-sample' extension sample for img-src content security policy examples)\n\t\t\t\t-->\n\t\t\t\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src ${webview.cspSource}; script-src 'nonce-${nonce}';\">\n\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n\t\t\t\t<link href=\"${styleResetUri}\" rel=\"stylesheet\">\n\t\t\t\t<link href=\"${styleVSCodeUri}\" rel=\"stylesheet\">\n\t\t\t\t<link href=\"${styleMainUri}\" rel=\"stylesheet\">\n\n\t\t\t\t<title>Cat Colors</title>\n\t\t\t</head>\n\t\t\t<body>\n\n        <ul class=\"command-list\">\n          ${allTemplates\n            .map((template) => {\n              return `<li><button class=\"command-button\" data-command=\"${template.command}\">${template.label}</button></li>`;\n            })\n            .join(\"\")}\n        </ul>\n\n\t\t\t\t<script nonce=\"${nonce}\" src=\"${scriptUri}\"></script>\n\t\t\t</body>\n\t\t\t</html>`;\n  }\n}\n\nexport class SecondaryViewProvider implements vscode.WebviewViewProvider {\n  public static readonly viewType = \"nvmse.secondaryView\";\n  private static _view?: vscode.WebviewView;\n\n  constructor(private readonly _extensionPath: string, private readonly _extensionUri: vscode.Uri) {}\n\n  public static runCommand(command: string) {\n    this.postMessage({ type: \"command\", value: command });\n    vscode.commands.executeCommand(`nvmse.${command}`);\n  }\n\n  public static postMessage(message: any) {\n    this._view?.webview.postMessage(message);\n  }\n\n  resolveWebviewView(webviewView: vscode.WebviewView, _context: vscode.WebviewViewResolveContext<unknown>, _token: vscode.CancellationToken): void | Thenable<void> {\n    webviewView.webview.options = {\n      enableScripts: true,\n      localResourceRoots: [this._extensionUri],\n    };\n    SecondaryViewProvider._view = webviewView;\n\n    // webviewView.webview.html = getWebviewContent();\n    webviewView.webview.html = this._getHtmlForWebview(webviewView.webview);\n\n    webviewView.webview.onDidReceiveMessage((data) => {\n      switch (data.type) {\n        case \"webviewLoaded\": {\n          break;\n        }\n        case \"sendMessage\": {\n          break;\n        }\n        case \"abort\": {\n          break;\n        }\n      }\n    });\n  }\n\n  private _getHtmlForWebview(webview: vscode.Webview) {\n    // Get the local path to main script run in the webview, then convert it to a uri we can use in the webview.\n    const scriptUri = webview.asWebviewUri(vscode.Uri.joinPath(this._extensionUri, \"media\", \"secondary.js\"));\n\n    // Do the same for the stylesheet.\n    const styleResetUri = webview.asWebviewUri(vscode.Uri.joinPath(this._extensionUri, \"media\", \"reset.css\"));\n    const styleVSCodeUri = webview.asWebviewUri(vscode.Uri.joinPath(this._extensionUri, \"media\", \"vscode.css\"));\n    const styleSecondaryUri = webview.asWebviewUri(vscode.Uri.joinPath(this._extensionUri, \"media\", \"secondary.css\"));\n\n    // Use a nonce to only allow a specific script to be run.\n    const nonce = getNonce();\n\n    return `<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\n\t\t\t\t<!--\n\t\t\t\t\tUse a content security policy to only allow loading styles from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n\t\t\t\t\t(See the 'webview-sample' extension sample for img-src content security policy examples)\n\t\t\t\t-->\n\t\t\t\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src ${webview.cspSource}; script-src 'nonce-${nonce}';\">\n\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\n\t\t\t\t<link href=\"${styleResetUri}\" rel=\"stylesheet\">\n\t\t\t\t<link href=\"${styleVSCodeUri}\" rel=\"stylesheet\">\n\t\t\t\t<link href=\"${styleSecondaryUri}\" rel=\"stylesheet\">\n\n\t\t\t\t<title>Secondary view</title>\n\t\t\t</head>\n\t\t\t<body>\n        <h2 id=\"command-type\"></h2>\n        <pre id=\"prompt\"></pre>\n        <div id=\"output\"></div>\n\t\t\t\t<script nonce=\"${nonce}\" src=\"${scriptUri}\"></script>\n\t\t\t</body>\n\t\t\t</html>`;\n  }\n}\n\nfunction getNonce() {\n  let text = \"\";\n  const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  for (let i = 0; i < 32; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text;\n}\n\n// This method is called when your extension is activated\n// Your extension is activated the very first time the command is executed\nexport function activate(context: vscode.ExtensionContext) {\n  try {\n    // Create a new ChatGPTViewProvider instance and register it with the extension's context\n    const mainViewProvider = new MainViewProvider(context.extensionPath, context.extensionUri);\n\n    // Register the provider with the extension's context\n    context.subscriptions.push(\n      vscode.window.registerWebviewViewProvider(MainViewProvider.viewType, mainViewProvider, {\n        webviewOptions: { retainContextWhenHidden: true },\n      }),\n    );\n\n    const secondaryViewProvider = new SecondaryViewProvider(context.extensionPath, context.extensionUri);\n\n    // Register the provider with the extension's context\n    context.subscriptions.push(\n      vscode.window.registerWebviewViewProvider(SecondaryViewProvider.viewType, secondaryViewProvider, {\n        webviewOptions: { retainContextWhenHidden: true },\n      }),\n    );\n\n    // Add panel item\n    // const panelItem = vscode.window.createWebviewPanel(\"nvmse.sidebarItem\", \"My Sidebar Item\", vscode.ViewColumn.Beside, {\n    //   enableScripts: true,\n    // });\n    // panelItem.webview.html = `<h1>Hello World</h1>`;\n\n    const replaceLinesDisposable = vscode.commands.registerCommand(\"nvmse.replaceLines\", () => {\n      const editor = vscode.window.activeTextEditor;\n      if (!editor) {\n        return;\n      }\n\n      const { selection } = editor;\n      const startLine = selection.start.line;\n      const endLine = selection.end.line;\n      const capturedText: string[] = [];\n      const edit = new vscode.WorkspaceEdit();\n\n      for (let i = startLine; i <= endLine; i++) {\n        const line = editor.document.lineAt(i);\n        const range = new vscode.Range(line.range.start, line.range.end);\n        edit.replace(editor.document.uri, range, \"pancake\");\n        capturedText.push(line.text);\n      }\n\n      vscode.workspace.applyEdit(edit);\n    });\n\n    const registerCommand = (template: Template & { command: string }) => {\n      const command = vscode.commands.registerCommand(`nvmse.${template.command}`, () => {\n        templateHandler(template);\n      });\n\n      context.subscriptions.push(command);\n    };\n\n    const builtinTemplates = [...defaultTemplates];\n    const userTemplates = getConfig(\"userCommands\", []) as Template[];\n    const allTemplates = [...builtinTemplates, ...userTemplates];\n\n    allTemplates.forEach((template: Template) => {\n      registerCommand(template);\n    });\n\n    context.subscriptions.push(replaceLinesDisposable);\n  } catch (error) {\n    display(String(error));\n  }\n}\n\n// This method is called when your extension is deactivated\nexport function deactivate() {}\n","import {\n  type ChatGPTAPIOptions,\n  ChatGPTAPI,\n  type ChatMessage,\n} from \"chatgpt\";\nimport * as vscode from \"vscode\";\n\nimport { display, getConfig, SecondaryViewProvider } from \"./extension\";\nimport { render, type Template } from \"./template_render\";\n\nclass Chat {\n  public static api: ChatGPTAPI;\n  public static conversationId: string;\n  public static abort: AbortController = new AbortController();\n  public static currentMessageNumber = 0;\n\n  public static newApi(options: ChatGPTAPIOptions) {\n    Chat.api = new ChatGPTAPI(options);\n  }\n}\n\nfunction getSelectionInfo(editor: vscode.TextEditor): { selectedText: string, startLine: number, endLine: number } {\n  const { selection } = editor;\n  const startLine = selection.start.line;\n  const endLine = selection.end.line;\n  const selectedText = editor.document.getText(selection);\n  return { selectedText, startLine, endLine };\n}\n\nexport function replaceLinesWithText(editor: vscode.TextEditor, { startLine, endLine }: { startLine: number, endLine: number }, newText: string) {\n  const edit = new vscode.WorkspaceEdit();\n  const range = new vscode.Range(new vscode.Position(startLine, 0), new vscode.Position(endLine, 0));\n  edit.replace(editor.document.uri, range, newText);\n  vscode.workspace.applyEdit(edit);\n}\n\nexport const ask = async (question: string) => {\n  if (!Chat.api) {\n    Chat.newApi({\n      apiKey: getConfig(\"apiKey\", \"\") as string,\n      debug: false,\n    });\n  }\n\n  // SecondaryViewProvider._view?.show()\n  SecondaryViewProvider.postMessage({ type: \"requestMessage\", value: question });\n\n  ++Chat.currentMessageNumber;\n\n  try {\n    // const { currentMessageNumber } = Chat;\n\n    await Chat.api.sendMessage(\n      question,\n      {\n        onProgress: (partialResponse: ChatMessage) => {\n          // if (partialResponse.id === partialResponse.parentMessageId || Chat.currentMessageNumber === currentMessageNumber) {\n          //   return;\n          // }\n\n          SecondaryViewProvider.postMessage({ type: \"partialResponse\", value: partialResponse });\n        },\n        timeoutMs: 10_000,\n        abortSignal: Chat.abort.signal,\n      },\n    );\n  } catch (error) {\n    display(String(error));\n  }\n};\n\nexport const templateHandler = async (template: Template) => {\n  const { activeTextEditor } = vscode.window;\n\n  if (!activeTextEditor) return;\n\n  const apiKey = getConfig(\"apiKey\", \"\");\n  display(`apiKey is ${apiKey}`);\n\n  try {\n    const { languageId } = activeTextEditor.document;\n  \n    // If the template.userMessageTemplate contains \"{{command_args}}\", we need\n    // to prompt the user for input.\n    let commandArgs;\n    if (template.userMessageTemplate.includes(\"{{command_args}}\")) {\n      commandArgs = await vscode.window.showInputBox({\n          prompt: \"Enter command args\",\n          value: \"\",\n      });\n    }\n  \n    // const { selectedText, startLine, endLine } = getSelectionInfo(activeTextEditor);\n    const { selectedText } = getSelectionInfo(activeTextEditor);\n    // replaceLinesWithText(activeTextEditor, { startLine, endLine }, \"pancakes\");\n  \n    const rendered = render(\n      template.userMessageTemplate,\n      languageId,\n      selectedText,\n      commandArgs,\n      template.languageInstructions?.[languageId] ?? \"\",\n    );\n  \n    SecondaryViewProvider.postMessage({ type: \"prompt\", value: rendered })\n  \n    display(`rendered: ${rendered}`);\n    display(`templateHandler for template command: ${template.command}: ${selectedText}`);\n  } catch (error) {\n    display(String(error));\n  }\n};\n","export function render(\n  userMessage: string, // sub-command template\n  languageId: string, // e.g. \"typescript\"\n  textSelection: string, // whatever is highlighted\n  commandArgs: string | undefined, // arbitrary text given by user in the prompt before command is run\n  languageInstructions: string, // config.get(\"languageInstructions\", \"\")\n) {\n  // replace {{filetype}} with the current file type\n  userMessage = userMessage.replace(\"{{filetype}}\", languageId);\n\n  // replace {{language}} with the current language\n  userMessage = userMessage.replace(\"{{language}}\", languageId);\n\n  // replace {{text_selection}} with textSelection\n  userMessage = userMessage.replace(\"{{text_selection}}\", textSelection);\n\n  // replace {{command_args}} with commandArgs\n  if (commandArgs) {\n    // strip the last \".\" from commandArgs because we can't be sure if the user will add a \".\" or not, and we\n    // want a nicely formatted prompt.\n    commandArgs = commandArgs.replace(/\\.$/, \"\");\n    userMessage = userMessage.replace(\"{{command_args}}.\", commandArgs);\n  } else {\n    // remove {{command_args}} from the prompt entirely\n    userMessage = userMessage.replace(/\\.*\\s*\\{\\{command_args\\}\\}\\.*/, \"\");\n  }\n\n  // replace {{language_instructions}} with the language instructions\n  return userMessage.replace(\"{{language_instructions}}\", languageInstructions);\n}\n\nexport enum CallbackType {\n  Buffer = \"buffer\",\n  Replace = \"replace\",\n  AfterSelected = \"afterSelected\",\n}\n\nexport interface Template {\n  model?: string;\n  maxTokens?: number;\n  temperature?: number;\n  numberOfChoices?: number;\n  command: string;\n  label: string;\n  userMessageTemplate: string;\n  systemMessageTemplate?: string;\n  languageInstructions?: {\n    [languageId: string]: string;\n  };\n  callbackType?: CallbackType;\n}\n\nexport const baseTemplate: Template = {\n  model: \"gpt-3.5-turbo\",\n  maxTokens: 4096,\n  temperature: 0.8,\n  numberOfChoices: 1,\n  command: \"default\",\n  label: \"Default\",\n  systemMessageTemplate: \"You are a {{language}} coding assistant.\",\n  userMessageTemplate: \"\",\n  callbackType: CallbackType.Replace,\n  languageInstructions: {\n    javascript: \"Use modern JavaScript syntax.\",\n    typescript: \"Use modern TypeScript syntax.\",\n    cpp: \"Use modern C++ features.\",\n    html: \"Use modern HTML syntax.\",\n    csharp: \"Use modern C# syntax.\",\n  },\n};\n\nexport const defaultTemplates: Template[] = [\n  {\n    command: \"completion\",\n    label: \"Completion\",\n    userMessageTemplate:\n      \"I have the following {{language}} code snippet:\\n```{{filetype}}\\n{{text_selection}}\\n```{{command_args}}.\\nComplete the rest. Use best practices and write really good documentation. {{language_instructions}} Only return the code snippet and nothing else.\",\n    languageInstructions: {\n      typescript: \"Use modern TypeScript syntax and write TSDoc comments.\",\n      cpp: \"Use modern C++ features.\",\n    },\n    callbackType: CallbackType.Replace,\n  },\n  {\n    command: \"doc\",\n    label: \"Write documentation\",\n    userMessageTemplate:\n      \"I have the following {{language}} code:\\n```{{filetype}}\\n{{text_selection}}\\n```Write really good documentation using best practices for the given language. Attention paid to documenting parameters, return types, any exceptions or errors. {{language_instructions}} Only return the code snippet and nothing else.\",\n    languageInstructions: {\n      cpp: \"Use doxygen style comments for functions.\",\n      java: \"Use javadoc style comments for functions.\",\n      typescript: \"Use TSDoc style comments for functions.\",\n      javascript: \"Use JSDoc style comments for functions.\",\n    },\n  },\n  {\n    command: \"tests\",\n    label: \"Write unit tests\",\n    userMessageTemplate:\n      \"I have the following {{language}} code:\\n```{{filetype}}\\n{{text_selection}}\\n```Write really good unit tests using best practices for the given language. {{language_instructions}} Only return the unit tests. Only return the code snippet and nothing else.\",\n    callbackType: CallbackType.Buffer,\n    languageInstructions: {\n      cpp: \"Use modern C++ syntax. Generate unit tests using the gtest framework.\",\n      java: \"Generate unit tests using the JUnit framework.\",\n    },\n  },\n  {\n    command: \"refactor\",\n    label: \"Refactor\",\n    userMessageTemplate:\n      \"I have the following {{language}} code:\\n```{{filetype}}\\n{{text_selection}}\\n```Refactor the code to be more readable and maintainable. {{language_instructions}} Only return the code snippet and nothing else.\",\n    callbackType: CallbackType.Replace,\n    languageInstructions: {\n      cpp: \"Use modern C++ syntax.\",\n      java: \"Use modern Java syntax.\",\n      typescript: \"Use modern TypeScript syntax.\",\n      javascript: \"Use modern JavaScript syntax.\",\n    },\n  },\n  {\n    command: \"debug\",\n    label: \"Analyze for bugs\",\n    userMessageTemplate: \"Analyze the following {{language}} code for bugs:\\n```{{filetype}}\\n{{text_selection}}\\n```\\n{{command_args}}.\",\n    callbackType: CallbackType.Buffer,\n  },\n  {\n    command: \"explain\",\n    label: \"Explain\",\n    userMessageTemplate:\n      \"Explain the following {{language}} code:\\n```{{filetype}}\\n{{text_selection}}\\n```\\nExplain as if you were explaining to another developer. {{command_args}}.\",\n  },\n  {\n    command: \"optimizePerformance\",\n    label: \"Optimize for performance\",\n    userMessageTemplate:\n      \"I have the following {{language}} code:\\n```{{filetype}}\\n{{text_selection}}\\n```\\nOptimize it for performance. {{command_args}}.\\nOnly return the code snippet and nothing else.\",\n    callbackType: CallbackType.Replace,\n  },\n];\n\nexport const getCommandTemplate = (command: string): Template => {\n  const base = Object.assign({}, baseTemplate);\n  const template: Template = defaultTemplates.find((t) => t.command === command) || baseTemplate;\n\n  const ret: Template = {\n    ...base,\n    ...template,\n    languageInstructions: {\n      ...base.languageInstructions,\n      ...template.languageInstructions,\n    },\n  };\n\n  ret.userMessageTemplate = ret.userMessageTemplate.trim();\n  ret.systemMessageTemplate = ret.systemMessageTemplate?.trim();\n\n  return ret;\n};\n","module.exports = require(\"vscode\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","const wasm = require(\"./tiktoken_bg.cjs\");\nlet imports = {};\nimports[\"./tiktoken_bg.js\"] = wasm;\nconst path = require(\"path\");\nconst fs = require(\"fs\");\n\nconst candidates = __dirname\n  .split(path.sep)\n  .reduce((memo, _, index, array) => {\n    const prefix = array.slice(0, index + 1).join(path.sep) + path.sep;\n    if (!prefix.includes(\"node_modules\" + path.sep)) {\n      memo.unshift(\n        path.join(\n          prefix,\n          \"node_modules\",\n          \"@dqbd\",\n          \"tiktoken\",\n          \"\",\n          \"./tiktoken_bg.wasm\"\n        )\n      );\n    }\n    return memo;\n  }, [])\ncandidates.unshift(path.join(__dirname, \"./tiktoken_bg.wasm\"));\n\nlet bytes = null;\nfor (const candidate of candidates) {\n  try {\n    bytes = fs.readFileSync(candidate);\n    break;\n  } catch {}\n}\n\nif (bytes == null) throw new Error(\"Missing tiktoken_bg.wasm\");\nconst wasmModule = new WebAssembly.Module(bytes);\nconst wasmInstance = new WebAssembly.Instance(wasmModule, imports);\nwasm.__wbg_set_wasm(wasmInstance.exports);\nexports[\"get_encoding\"] = wasm[\"get_encoding\"];\nexports[\"encoding_for_model\"] = wasm[\"encoding_for_model\"];\nexports[\"Tiktoken\"] = wasm[\"Tiktoken\"];","let wasm;\nmodule.exports.__wbg_set_wasm = function(val) {\n    wasm = val;\n};\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n    if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n        cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8Memory0;\n}\n\nconst lTextEncoder = typeof TextEncoder === 'undefined' ? (0, module.require)('util').TextEncoder : TextEncoder;\n\nlet cachedTextEncoder = new lTextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length);\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len);\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3);\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n    if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n        cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachedInt32Memory0;\n}\n\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\n\nlet cachedTextDecoder = new lTextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nlet cachedUint32Memory0 = null;\n\nfunction getUint32Memory0() {\n    if (cachedUint32Memory0 === null || cachedUint32Memory0.byteLength === 0) {\n        cachedUint32Memory0 = new Uint32Array(wasm.memory.buffer);\n    }\n    return cachedUint32Memory0;\n}\n\nfunction getArrayU32FromWasm0(ptr, len) {\n    return getUint32Memory0().subarray(ptr / 4, ptr / 4 + len);\n}\n\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1);\n    getUint8Memory0().set(arg, ptr / 1);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\n\nfunction passArray32ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 4);\n    getUint32Memory0().set(arg, ptr / 4);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\n\nfunction getArrayU8FromWasm0(ptr, len) {\n    return getUint8Memory0().subarray(ptr / 1, ptr / 1 + len);\n}\nmodule.exports.get_encoding = function(encoding, extend_special_tokens) {\n    if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(encoding, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.get_encoding(retptr, ptr0, len0, addHeapObject(extend_special_tokens));\n        var r0 = getInt32Memory0()[retptr / 4 + 0];\n        var r1 = getInt32Memory0()[retptr / 4 + 1];\n        var r2 = getInt32Memory0()[retptr / 4 + 2];\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return Tiktoken.__wrap(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n};\nmodule.exports.encoding_for_model = function(model, extend_special_tokens) {\n    if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(model, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.encoding_for_model(retptr, ptr0, len0, addHeapObject(extend_special_tokens));\n        var r0 = getInt32Memory0()[retptr / 4 + 0];\n        var r1 = getInt32Memory0()[retptr / 4 + 1];\n        var r2 = getInt32Memory0()[retptr / 4 + 2];\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return Tiktoken.__wrap(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n};\n\nfunction handleError(f, args) {\n    try {\n        return f.apply(this, args);\n    } catch (e) {\n        wasm.__wbindgen_export_3(addHeapObject(e));\n    }\n}\n/** */\nclass Tiktoken {\n    /**\n     * @param {string} tiktoken_bfe\n     * @param {any} special_tokens\n     * @param {string} pat_str\n     */\n    constructor(tiktoken_bfe, special_tokens, pat_str) {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        const ptr0 = passStringToWasm0(tiktoken_bfe, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n        const len0 = WASM_VECTOR_LEN;\n        const ptr1 = passStringToWasm0(pat_str, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n        const len1 = WASM_VECTOR_LEN;\n        const ret = wasm.tiktoken_new(ptr0, len0, addHeapObject(special_tokens), ptr1, len1);\n        return Tiktoken.__wrap(ret);\n    }\n\n    /** @returns {string | undefined} */\n    get name() {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.tiktoken_name(retptr, this.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            let v0;\n            if (r0 !== 0) {\n                v0 = getStringFromWasm0(r0, r1).slice();\n                wasm.__wbindgen_export_2(r0, r1 * 1);\n            }\n            return v0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n\n    static __wrap(ptr) {\n        const obj = Object.create(Tiktoken.prototype);\n        obj.ptr = ptr;\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n        return ptr;\n    }\n\n    free() {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_tiktoken_free(ptr);\n    }\n\n    /**\n     * @param {string} text\n     * @param {any} allowed_special\n     * @param {any} disallowed_special\n     * @returns {Uint32Array}\n     */\n    encode(text, allowed_special, disallowed_special) {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            const ptr0 = passStringToWasm0(text, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n            const len0 = WASM_VECTOR_LEN;\n            wasm.tiktoken_encode(retptr, this.ptr, ptr0, len0, addHeapObject(allowed_special), addHeapObject(disallowed_special));\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            var r3 = getInt32Memory0()[retptr / 4 + 3];\n            if (r3) {\n                throw takeObject(r2);\n            }\n            var v1 = getArrayU32FromWasm0(r0, r1).slice();\n            wasm.__wbindgen_export_2(r0, r1 * 4);\n            return v1;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n\n    /**\n     * @param {string} text\n     * @returns {Uint32Array}\n     */\n    encode_ordinary(text) {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            const ptr0 = passStringToWasm0(text, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n            const len0 = WASM_VECTOR_LEN;\n            wasm.tiktoken_encode_ordinary(retptr, this.ptr, ptr0, len0);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var v1 = getArrayU32FromWasm0(r0, r1).slice();\n            wasm.__wbindgen_export_2(r0, r1 * 4);\n            return v1;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n\n    /**\n     * @param {string} text\n     * @param {any} allowed_special\n     * @param {any} disallowed_special\n     * @returns {any}\n     */\n    encode_with_unstable(text, allowed_special, disallowed_special) {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            const ptr0 = passStringToWasm0(text, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n            const len0 = WASM_VECTOR_LEN;\n            wasm.tiktoken_encode_with_unstable(retptr, this.ptr, ptr0, len0, addHeapObject(allowed_special), addHeapObject(disallowed_special));\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            if (r2) {\n                throw takeObject(r1);\n            }\n            return takeObject(r0);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n\n    /**\n     * @param {Uint8Array} bytes\n     * @returns {number}\n     */\n    encode_single_token(bytes) {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        const ptr0 = passArray8ToWasm0(bytes, wasm.__wbindgen_export_0);\n        const len0 = WASM_VECTOR_LEN;\n        const ret = wasm.tiktoken_encode_single_token(this.ptr, ptr0, len0);\n        return ret >>> 0;\n    }\n\n    /**\n     * @param {Uint32Array} tokens\n     * @returns {Uint8Array}\n     */\n    decode(tokens) {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            const ptr0 = passArray32ToWasm0(tokens, wasm.__wbindgen_export_0);\n            const len0 = WASM_VECTOR_LEN;\n            wasm.tiktoken_decode(retptr, this.ptr, ptr0, len0);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var v1 = getArrayU8FromWasm0(r0, r1).slice();\n            wasm.__wbindgen_export_2(r0, r1 * 1);\n            return v1;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n\n    /**\n     * @param {number} token\n     * @returns {Uint8Array}\n     */\n    decode_single_token_bytes(token) {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.tiktoken_decode_single_token_bytes(retptr, this.ptr, token);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var v0 = getArrayU8FromWasm0(r0, r1).slice();\n            wasm.__wbindgen_export_2(r0, r1 * 1);\n            return v0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n\n    /** @returns {any} */\n    token_byte_values() {\n        if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n        const ret = wasm.tiktoken_token_byte_values(this.ptr);\n        return takeObject(ret);\n    }\n}\nmodule.exports.Tiktoken = Tiktoken;\nmodule.exports.__wbindgen_object_drop_ref = function(arg0) {\n    takeObject(arg0);\n};\n;\nmodule.exports.__wbindgen_is_undefined = function(arg0) {\n    const ret = getObject(arg0) === undefined;\n    return ret;\n};\n;\nmodule.exports.__wbg_stringify_029a979dfb73aa17 = function() {\n    return handleError(function (arg0) {\n        const ret = JSON.stringify(getObject(arg0));\n        return addHeapObject(ret);\n    }, arguments) };\n;\nmodule.exports.__wbindgen_string_get = function(arg0, arg1) {\n    if (wasm == null) throw new Error(\"@dqbd/tiktoken: WASM binary has not been propery initialized.\");\n    const obj = getObject(arg1);\n    const ret = typeof(obj) === 'string' ? obj : undefined;\n    var ptr0 = isLikeNone(ret) ? 0 : passStringToWasm0(ret, wasm.__wbindgen_export_0, wasm.__wbindgen_export_1);\n    var len0 = WASM_VECTOR_LEN;\n    getInt32Memory0()[arg0 / 4 + 1] = len0;\n    getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n};\n;\nmodule.exports.__wbindgen_error_new = function(arg0, arg1) {\n    const ret = new Error(getStringFromWasm0(arg0, arg1));\n    return addHeapObject(ret);\n};\n;\nmodule.exports.__wbg_parse_3ac95b51fc312db8 = function() {\n    return handleError(function (arg0, arg1) {\n        const ret = JSON.parse(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    }, arguments) };\n;\nmodule.exports.__wbindgen_throw = function(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n};\n;\n\n","export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new AbortError(errorMessage)\n\t: new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined\n\t\t? getDOMException('This operation was aborted.')\n\t\t: signal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = {setTimeout, clearTimeout},\n\t} = options;\n\n\tlet timer;\n\n\tconst cancelablePromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tresolve(promise);\n\t\t\treturn;\n\t\t}\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t});\n\t\t}\n\n\t\t// We create the error outside of `setTimeout` to preserve the stack trace.\n\t\tconst timeoutError = new TimeoutError();\n\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\tif (message === false) {\n\t\t\t\tresolve();\n\t\t\t} else if (message instanceof Error) {\n\t\t\t\treject(message);\n\t\t\t} else {\n\t\t\t\ttimeoutError.message = message ?? `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\t\treject(timeoutError);\n\t\t\t}\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t} finally {\n\t\t\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\t\t}\n\t\t})();\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n","export default class QuickLRU extends Map {\n\tconstructor(options = {}) {\n\t\tsuper();\n\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tif (typeof options.maxAge === 'number' && options.maxAge === 0) {\n\t\t\tthrow new TypeError('`maxAge` must be a number greater than 0');\n\t\t}\n\n\t\t// TODO: Use private class fields when ESLint supports them.\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t// TODO: Use private class methods when targeting Node.js 16.\n\t_emitEvictions(cache) {\n\t\tif (typeof this.onEviction !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, item] of cache) {\n\t\t\tthis.onEviction(key, item.value);\n\t\t}\n\t}\n\n\t_deleteIfExpired(key, item) {\n\t\tif (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tthis.onEviction(key, item.value);\n\t\t\t}\n\n\t\t\treturn this.delete(key);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_getOrDeleteIfExpired(key, item) {\n\t\tconst deleted = this._deleteIfExpired(key, item);\n\t\tif (deleted === false) {\n\t\t\treturn item.value;\n\t\t}\n\t}\n\n\t_getItemValue(key, item) {\n\t\treturn item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\n\t}\n\n\t_peek(key, cache) {\n\t\tconst item = cache.get(key);\n\n\t\treturn this._getItemValue(key, item);\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis._emitEvictions(this.oldCache);\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\t_moveToRecent(key, item) {\n\t\tthis.oldCache.delete(key);\n\t\tthis._set(key, item);\n\t}\n\n\t* _entriesAscending() {\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield item;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\tconst item = this.cache.get(key);\n\n\t\t\treturn this._getItemValue(key, item);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst item = this.oldCache.get(key);\n\t\t\tif (this._deleteIfExpired(key, item) === false) {\n\t\t\t\tthis._moveToRecent(key, item);\n\t\t\t\treturn item.value;\n\t\t\t}\n\t\t}\n\t}\n\n\tset(key, value, {maxAge = this.maxAge} = {}) {\n\t\tconst expiry =\n\t\t\ttypeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ?\n\t\t\t\tDate.now() + maxAge :\n\t\t\t\tundefined;\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, {\n\t\t\t\tvalue,\n\t\t\t\texpiry\n\t\t\t});\n\t\t} else {\n\t\t\tthis._set(key, {value, expiry});\n\t\t}\n\t}\n\n\thas(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.cache.get(key));\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.oldCache.get(key));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this._peek(key, this.cache);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this._peek(key, this.oldCache);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\tresize(newSize) {\n\t\tif (!(newSize && newSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tconst items = [...this._entriesAscending()];\n\t\tconst removeCount = items.length - newSize;\n\t\tif (removeCount < 0) {\n\t\t\tthis.cache = new Map(items);\n\t\t\tthis.oldCache = new Map();\n\t\t\tthis._size = items.length;\n\t\t} else {\n\t\t\tif (removeCount > 0) {\n\t\t\t\tthis._emitEvictions(items.slice(0, removeCount));\n\t\t\t}\n\n\t\t\tthis.oldCache = new Map(items.slice(removeCount));\n\t\t\tthis.cache = new Map();\n\t\t\tthis._size = 0;\n\t\t}\n\n\t\tthis.maxSize = newSize;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesDescending() {\n\t\tlet items = [...this.cache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\titems = [...this.oldCache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesAscending() {\n\t\tfor (const [key, value] of this._entriesAscending()) {\n\t\t\tyield [key, value.value];\n\t\t}\n\t}\n\n\tget size() {\n\t\tif (!this._size) {\n\t\t\treturn this.oldCache.size;\n\t\t}\n\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n\n\tentries() {\n\t\treturn this.entriesAscending();\n\t}\n\n\tforEach(callbackFunction, thisArgument = this) {\n\t\tfor (const [key, value] of this.entriesAscending()) {\n\t\t\tcallbackFunction.call(thisArgument, value, key, this);\n\t\t}\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn JSON.stringify([...this.entriesAscending()]);\n\t}\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"crypto\");","import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","function createParser(onParse) {\n  let isFirstChunk;\n  let buffer;\n  let startingPosition;\n  let startingFieldLength;\n  let eventId;\n  let eventName;\n  let data;\n  reset();\n  return {\n    feed,\n    reset\n  };\n  function reset() {\n    isFirstChunk = true;\n    buffer = \"\";\n    startingPosition = 0;\n    startingFieldLength = -1;\n    eventId = void 0;\n    eventName = void 0;\n    data = \"\";\n  }\n  function feed(chunk) {\n    buffer = buffer ? buffer + chunk : chunk;\n    if (isFirstChunk && hasBom(buffer)) {\n      buffer = buffer.slice(BOM.length);\n    }\n    isFirstChunk = false;\n    const length = buffer.length;\n    let position = 0;\n    let discardTrailingNewline = false;\n    while (position < length) {\n      if (discardTrailingNewline) {\n        if (buffer[position] === \"\\n\") {\n          ++position;\n        }\n        discardTrailingNewline = false;\n      }\n      let lineLength = -1;\n      let fieldLength = startingFieldLength;\n      let character;\n      for (let index = startingPosition; lineLength < 0 && index < length; ++index) {\n        character = buffer[index];\n        if (character === \":\" && fieldLength < 0) {\n          fieldLength = index - position;\n        } else if (character === \"\\r\") {\n          discardTrailingNewline = true;\n          lineLength = index - position;\n        } else if (character === \"\\n\") {\n          lineLength = index - position;\n        }\n      }\n      if (lineLength < 0) {\n        startingPosition = length - position;\n        startingFieldLength = fieldLength;\n        break;\n      } else {\n        startingPosition = 0;\n        startingFieldLength = -1;\n      }\n      parseEventStreamLine(buffer, position, fieldLength, lineLength);\n      position += lineLength + 1;\n    }\n    if (position === length) {\n      buffer = \"\";\n    } else if (position > 0) {\n      buffer = buffer.slice(position);\n    }\n  }\n  function parseEventStreamLine(lineBuffer, index, fieldLength, lineLength) {\n    if (lineLength === 0) {\n      if (data.length > 0) {\n        onParse({\n          type: \"event\",\n          id: eventId,\n          event: eventName || void 0,\n          data: data.slice(0, -1)\n          // remove trailing newline\n        });\n\n        data = \"\";\n        eventId = void 0;\n      }\n      eventName = void 0;\n      return;\n    }\n    const noValue = fieldLength < 0;\n    const field = lineBuffer.slice(index, index + (noValue ? lineLength : fieldLength));\n    let step = 0;\n    if (noValue) {\n      step = lineLength;\n    } else if (lineBuffer[index + fieldLength + 1] === \" \") {\n      step = fieldLength + 2;\n    } else {\n      step = fieldLength + 1;\n    }\n    const position = index + step;\n    const valueLength = lineLength - step;\n    const value = lineBuffer.slice(position, position + valueLength).toString();\n    if (field === \"data\") {\n      data += value ? \"\".concat(value, \"\\n\") : \"\\n\";\n    } else if (field === \"event\") {\n      eventName = value;\n    } else if (field === \"id\" && !value.includes(\"\\0\")) {\n      eventId = value;\n    } else if (field === \"retry\") {\n      const retry = parseInt(value, 10);\n      if (!Number.isNaN(retry)) {\n        onParse({\n          type: \"reconnect-interval\",\n          value: retry\n        });\n      }\n    }\n  }\n}\nconst BOM = [239, 187, 191];\nfunction hasBom(buffer) {\n  return BOM.every((charCode, index) => buffer.charCodeAt(index) === charCode);\n}\nexport { createParser };\n//# sourceMappingURL=index.js.map\n","// src/chatgpt-api.ts\nimport Keyv from \"keyv\";\nimport pTimeout from \"p-timeout\";\nimport QuickLRU from \"quick-lru\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n// src/tokenizer.ts\nimport { get_encoding } from \"@dqbd/tiktoken\";\nvar tokenizer = get_encoding(\"cl100k_base\");\nfunction encode(input) {\n  return tokenizer.encode(input);\n}\n\n// src/types.ts\nvar ChatGPTError = class extends Error {\n};\nvar openai;\n((openai2) => {\n})(openai || (openai = {}));\n\n// src/fetch.ts\nvar fetch = globalThis.fetch;\n\n// src/fetch-sse.ts\nimport { createParser } from \"eventsource-parser\";\n\n// src/stream-async-iterable.ts\nasync function* streamAsyncIterable(stream) {\n  const reader = stream.getReader();\n  try {\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) {\n        return;\n      }\n      yield value;\n    }\n  } finally {\n    reader.releaseLock();\n  }\n}\n\n// src/fetch-sse.ts\nasync function fetchSSE(url, options, fetch2 = fetch) {\n  const { onMessage, onError, ...fetchOptions } = options;\n  const res = await fetch2(url, fetchOptions);\n  if (!res.ok) {\n    let reason;\n    try {\n      reason = await res.text();\n    } catch (err) {\n      reason = res.statusText;\n    }\n    const msg = `ChatGPT error ${res.status}: ${reason}`;\n    const error = new ChatGPTError(msg, { cause: res });\n    error.statusCode = res.status;\n    error.statusText = res.statusText;\n    throw error;\n  }\n  const parser = createParser((event) => {\n    if (event.type === \"event\") {\n      onMessage(event.data);\n    }\n  });\n  const feed = (chunk) => {\n    var _a;\n    let response = null;\n    try {\n      response = JSON.parse(chunk);\n    } catch {\n    }\n    if (((_a = response == null ? void 0 : response.detail) == null ? void 0 : _a.type) === \"invalid_request_error\") {\n      const msg = `ChatGPT error ${response.detail.message}: ${response.detail.code} (${response.detail.type})`;\n      const error = new ChatGPTError(msg, { cause: response });\n      error.statusCode = response.detail.code;\n      error.statusText = response.detail.message;\n      if (onError) {\n        onError(error);\n      } else {\n        console.error(error);\n      }\n      return;\n    }\n    parser.feed(chunk);\n  };\n  if (!res.body.getReader) {\n    const body = res.body;\n    if (!body.on || !body.read) {\n      throw new ChatGPTError('unsupported \"fetch\" implementation');\n    }\n    body.on(\"readable\", () => {\n      let chunk;\n      while (null !== (chunk = body.read())) {\n        feed(chunk.toString());\n      }\n    });\n  } else {\n    for await (const chunk of streamAsyncIterable(res.body)) {\n      const str = new TextDecoder().decode(chunk);\n      feed(str);\n    }\n  }\n}\n\n// src/chatgpt-api.ts\nvar CHATGPT_MODEL = \"gpt-3.5-turbo\";\nvar USER_LABEL_DEFAULT = \"User\";\nvar ASSISTANT_LABEL_DEFAULT = \"ChatGPT\";\nvar ChatGPTAPI = class {\n  /**\n   * Creates a new client wrapper around OpenAI's chat completion API, mimicing the official ChatGPT webapp's functionality as closely as possible.\n   *\n   * @param apiKey - OpenAI API key (required).\n   * @param apiOrg - Optional OpenAI API organization (optional).\n   * @param apiBaseUrl - Optional override for the OpenAI API base URL.\n   * @param debug - Optional enables logging debugging info to stdout.\n   * @param completionParams - Param overrides to send to the [OpenAI chat completion API](https://platform.openai.com/docs/api-reference/chat/create). Options like `temperature` and `presence_penalty` can be tweaked to change the personality of the assistant.\n   * @param maxModelTokens - Optional override for the maximum number of tokens allowed by the model's context. Defaults to 4096.\n   * @param maxResponseTokens - Optional override for the minimum number of tokens allowed for the model's response. Defaults to 1000.\n   * @param messageStore - Optional [Keyv](https://github.com/jaredwray/keyv) store to persist chat messages to. If not provided, messages will be lost when the process exits.\n   * @param getMessageById - Optional function to retrieve a message by its ID. If not provided, the default implementation will be used (using an in-memory `messageStore`).\n   * @param upsertMessage - Optional function to insert or update a message. If not provided, the default implementation will be used (using an in-memory `messageStore`).\n   * @param fetch - Optional override for the `fetch` implementation to use. Defaults to the global `fetch` function.\n   */\n  constructor(opts) {\n    const {\n      apiKey,\n      apiOrg,\n      apiBaseUrl = \"https://api.openai.com/v1\",\n      debug = false,\n      messageStore,\n      completionParams,\n      systemMessage,\n      maxModelTokens = 4e3,\n      maxResponseTokens = 1e3,\n      getMessageById,\n      upsertMessage,\n      fetch: fetch2 = fetch\n    } = opts;\n    this._apiKey = apiKey;\n    this._apiOrg = apiOrg;\n    this._apiBaseUrl = apiBaseUrl;\n    this._debug = !!debug;\n    this._fetch = fetch2;\n    this._completionParams = {\n      model: CHATGPT_MODEL,\n      temperature: 0.8,\n      top_p: 1,\n      presence_penalty: 1,\n      ...completionParams\n    };\n    this._systemMessage = systemMessage;\n    if (this._systemMessage === void 0) {\n      const currentDate = (/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0];\n      this._systemMessage = `You are ChatGPT, a large language model trained by OpenAI. Answer as concisely as possible.\nKnowledge cutoff: 2021-09-01\nCurrent date: ${currentDate}`;\n    }\n    this._maxModelTokens = maxModelTokens;\n    this._maxResponseTokens = maxResponseTokens;\n    this._getMessageById = getMessageById ?? this._defaultGetMessageById;\n    this._upsertMessage = upsertMessage ?? this._defaultUpsertMessage;\n    if (messageStore) {\n      this._messageStore = messageStore;\n    } else {\n      this._messageStore = new Keyv({\n        store: new QuickLRU({ maxSize: 1e4 })\n      });\n    }\n    if (!this._apiKey) {\n      throw new Error(\"OpenAI missing required apiKey\");\n    }\n    if (!this._fetch) {\n      throw new Error(\"Invalid environment; fetch is not defined\");\n    }\n    if (typeof this._fetch !== \"function\") {\n      throw new Error('Invalid \"fetch\" is not a function');\n    }\n  }\n  /**\n   * Sends a message to the OpenAI chat completions endpoint, waits for the response\n   * to resolve, and returns the response.\n   *\n   * If you want your response to have historical context, you must provide a valid `parentMessageId`.\n   *\n   * If you want to receive a stream of partial responses, use `opts.onProgress`.\n   *\n   * Set `debug: true` in the `ChatGPTAPI` constructor to log more info on the full prompt sent to the OpenAI chat completions API. You can override the `systemMessage` in `opts` to customize the assistant's instructions.\n   *\n   * @param message - The prompt message to send\n   * @param opts.parentMessageId - Optional ID of the previous message in the conversation (defaults to `undefined`)\n   * @param opts.conversationId - Optional ID of the conversation (defaults to `undefined`)\n   * @param opts.messageId - Optional ID of the message to send (defaults to a random UUID)\n   * @param opts.systemMessage - Optional override for the chat \"system message\" which acts as instructions to the model (defaults to the ChatGPT system message)\n   * @param opts.timeoutMs - Optional timeout in milliseconds (defaults to no timeout)\n   * @param opts.onProgress - Optional callback which will be invoked every time the partial response is updated\n   * @param opts.abortSignal - Optional callback used to abort the underlying `fetch` call using an [AbortController](https://developer.mozilla.org/en-US/docs/Web/API/AbortController)\n   * @param completionParams - Optional overrides to send to the [OpenAI chat completion API](https://platform.openai.com/docs/api-reference/chat/create). Options like `temperature` and `presence_penalty` can be tweaked to change the personality of the assistant.\n   *\n   * @returns The response from ChatGPT\n   */\n  async sendMessage(text, opts = {}) {\n    const {\n      parentMessageId,\n      messageId = uuidv4(),\n      timeoutMs,\n      onProgress,\n      stream = onProgress ? true : false,\n      completionParams,\n      conversationId\n    } = opts;\n    let { abortSignal } = opts;\n    let abortController = null;\n    if (timeoutMs && !abortSignal) {\n      abortController = new AbortController();\n      abortSignal = abortController.signal;\n    }\n    const message = {\n      role: \"user\",\n      id: messageId,\n      conversationId,\n      parentMessageId,\n      text\n    };\n    const latestQuestion = message;\n    const { messages, maxTokens, numTokens } = await this._buildMessages(\n      text,\n      opts\n    );\n    const result = {\n      role: \"assistant\",\n      id: uuidv4(),\n      conversationId,\n      parentMessageId: messageId,\n      text: \"\"\n    };\n    const responseP = new Promise(\n      async (resolve, reject) => {\n        var _a, _b;\n        const url = `${this._apiBaseUrl}/chat/completions`;\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${this._apiKey}`\n        };\n        const body = {\n          max_tokens: maxTokens,\n          ...this._completionParams,\n          ...completionParams,\n          messages,\n          stream\n        };\n        if (this._apiOrg) {\n          headers[\"OpenAI-Organization\"] = this._apiOrg;\n        }\n        if (this._debug) {\n          console.log(`sendMessage (${numTokens} tokens)`, body);\n        }\n        if (stream) {\n          fetchSSE(\n            url,\n            {\n              method: \"POST\",\n              headers,\n              body: JSON.stringify(body),\n              signal: abortSignal,\n              onMessage: (data) => {\n                var _a2;\n                if (data === \"[DONE]\") {\n                  result.text = result.text.trim();\n                  return resolve(result);\n                }\n                try {\n                  const response = JSON.parse(data);\n                  if (response.id) {\n                    result.id = response.id;\n                  }\n                  if ((_a2 = response.choices) == null ? void 0 : _a2.length) {\n                    const delta = response.choices[0].delta;\n                    result.delta = delta.content;\n                    if (delta == null ? void 0 : delta.content)\n                      result.text += delta.content;\n                    if (delta.role) {\n                      result.role = delta.role;\n                    }\n                    result.detail = response;\n                    onProgress == null ? void 0 : onProgress(result);\n                  }\n                } catch (err) {\n                  console.warn(\"OpenAI stream SEE event unexpected error\", err);\n                  return reject(err);\n                }\n              }\n            },\n            this._fetch\n          ).catch(reject);\n        } else {\n          try {\n            const res = await this._fetch(url, {\n              method: \"POST\",\n              headers,\n              body: JSON.stringify(body),\n              signal: abortSignal\n            });\n            if (!res.ok) {\n              const reason = await res.text();\n              const msg = `OpenAI error ${res.status || res.statusText}: ${reason}`;\n              const error = new ChatGPTError(msg, { cause: res });\n              error.statusCode = res.status;\n              error.statusText = res.statusText;\n              return reject(error);\n            }\n            const response = await res.json();\n            if (this._debug) {\n              console.log(response);\n            }\n            if (response == null ? void 0 : response.id) {\n              result.id = response.id;\n            }\n            if ((_a = response == null ? void 0 : response.choices) == null ? void 0 : _a.length) {\n              const message2 = response.choices[0].message;\n              result.text = message2.content;\n              if (message2.role) {\n                result.role = message2.role;\n              }\n            } else {\n              const res2 = response;\n              return reject(\n                new Error(\n                  `OpenAI error: ${((_b = res2 == null ? void 0 : res2.detail) == null ? void 0 : _b.message) || (res2 == null ? void 0 : res2.detail) || \"unknown\"}`\n                )\n              );\n            }\n            result.detail = response;\n            return resolve(result);\n          } catch (err) {\n            return reject(err);\n          }\n        }\n      }\n    ).then(async (message2) => {\n      if (message2.detail && !message2.detail.usage) {\n        try {\n          const promptTokens = numTokens;\n          const completionTokens = await this._getTokenCount(message2.text);\n          message2.detail.usage = {\n            prompt_tokens: promptTokens,\n            completion_tokens: completionTokens,\n            total_tokens: promptTokens + completionTokens,\n            estimated: true\n          };\n        } catch (err) {\n        }\n      }\n      return Promise.all([\n        this._upsertMessage(latestQuestion),\n        this._upsertMessage(message2)\n      ]).then(() => message2);\n    });\n    if (timeoutMs) {\n      if (abortController) {\n        ;\n        responseP.cancel = () => {\n          abortController.abort();\n        };\n      }\n      return pTimeout(responseP, {\n        milliseconds: timeoutMs,\n        message: \"OpenAI timed out waiting for response\"\n      });\n    } else {\n      return responseP;\n    }\n  }\n  get apiKey() {\n    return this._apiKey;\n  }\n  set apiKey(apiKey) {\n    this._apiKey = apiKey;\n  }\n  get apiOrg() {\n    return this._apiOrg;\n  }\n  set apiOrg(apiOrg) {\n    this._apiOrg = apiOrg;\n  }\n  async _buildMessages(text, opts) {\n    const { systemMessage = this._systemMessage } = opts;\n    let { parentMessageId } = opts;\n    const userLabel = USER_LABEL_DEFAULT;\n    const assistantLabel = ASSISTANT_LABEL_DEFAULT;\n    const maxNumTokens = this._maxModelTokens - this._maxResponseTokens;\n    let messages = [];\n    if (systemMessage) {\n      messages.push({\n        role: \"system\",\n        content: systemMessage\n      });\n    }\n    const systemMessageOffset = messages.length;\n    let nextMessages = text ? messages.concat([\n      {\n        role: \"user\",\n        content: text,\n        name: opts.name\n      }\n    ]) : messages;\n    let numTokens = 0;\n    do {\n      const prompt = nextMessages.reduce((prompt2, message) => {\n        switch (message.role) {\n          case \"system\":\n            return prompt2.concat([`Instructions:\n${message.content}`]);\n          case \"user\":\n            return prompt2.concat([`${userLabel}:\n${message.content}`]);\n          default:\n            return prompt2.concat([`${assistantLabel}:\n${message.content}`]);\n        }\n      }, []).join(\"\\n\\n\");\n      const nextNumTokensEstimate = await this._getTokenCount(prompt);\n      const isValidPrompt = nextNumTokensEstimate <= maxNumTokens;\n      if (prompt && !isValidPrompt) {\n        break;\n      }\n      messages = nextMessages;\n      numTokens = nextNumTokensEstimate;\n      if (!isValidPrompt) {\n        break;\n      }\n      if (!parentMessageId) {\n        break;\n      }\n      const parentMessage = await this._getMessageById(parentMessageId);\n      if (!parentMessage) {\n        break;\n      }\n      const parentMessageRole = parentMessage.role || \"user\";\n      nextMessages = nextMessages.slice(0, systemMessageOffset).concat([\n        {\n          role: parentMessageRole,\n          content: parentMessage.text,\n          name: parentMessage.name\n        },\n        ...nextMessages.slice(systemMessageOffset)\n      ]);\n      parentMessageId = parentMessage.parentMessageId;\n    } while (true);\n    const maxTokens = Math.max(\n      1,\n      Math.min(this._maxModelTokens - numTokens, this._maxResponseTokens)\n    );\n    return { messages, maxTokens, numTokens };\n  }\n  async _getTokenCount(text) {\n    text = text.replace(/<\\|endoftext\\|>/g, \"\");\n    return encode(text).length;\n  }\n  async _defaultGetMessageById(id) {\n    const res = await this._messageStore.get(id);\n    return res;\n  }\n  async _defaultUpsertMessage(message) {\n    await this._messageStore.set(message.id, message);\n  }\n};\n\n// src/chatgpt-unofficial-proxy-api.ts\nimport pTimeout2 from \"p-timeout\";\nimport { v4 as uuidv42 } from \"uuid\";\n\n// src/utils.ts\nvar uuidv4Re = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\nfunction isValidUUIDv4(str) {\n  return str && uuidv4Re.test(str);\n}\n\n// src/chatgpt-unofficial-proxy-api.ts\nvar ChatGPTUnofficialProxyAPI = class {\n  /**\n   * @param fetch - Optional override for the `fetch` implementation to use. Defaults to the global `fetch` function.\n   */\n  constructor(opts) {\n    const {\n      accessToken,\n      apiReverseProxyUrl = \"https://bypass.duti.tech/api/conversation\",\n      model = \"text-davinci-002-render-sha\",\n      debug = false,\n      headers,\n      fetch: fetch2 = fetch\n    } = opts;\n    this._accessToken = accessToken;\n    this._apiReverseProxyUrl = apiReverseProxyUrl;\n    this._debug = !!debug;\n    this._model = model;\n    this._fetch = fetch2;\n    this._headers = headers;\n    if (!this._accessToken) {\n      throw new Error(\"ChatGPT invalid accessToken\");\n    }\n    if (!this._fetch) {\n      throw new Error(\"Invalid environment; fetch is not defined\");\n    }\n    if (typeof this._fetch !== \"function\") {\n      throw new Error('Invalid \"fetch\" is not a function');\n    }\n  }\n  get accessToken() {\n    return this._accessToken;\n  }\n  set accessToken(value) {\n    this._accessToken = value;\n  }\n  /**\n   * Sends a message to ChatGPT, waits for the response to resolve, and returns\n   * the response.\n   *\n   * If you want your response to have historical context, you must provide a valid `parentMessageId`.\n   *\n   * If you want to receive a stream of partial responses, use `opts.onProgress`.\n   * If you want to receive the full response, including message and conversation IDs,\n   * you can use `opts.onConversationResponse` or use the `ChatGPTAPI.getConversation`\n   * helper.\n   *\n   * Set `debug: true` in the `ChatGPTAPI` constructor to log more info on the full prompt sent to the OpenAI completions API. You can override the `promptPrefix` and `promptSuffix` in `opts` to customize the prompt.\n   *\n   * @param message - The prompt message to send\n   * @param opts.conversationId - Optional ID of a conversation to continue (defaults to a random UUID)\n   * @param opts.parentMessageId - Optional ID of the previous message in the conversation (defaults to `undefined`)\n   * @param opts.messageId - Optional ID of the message to send (defaults to a random UUID)\n   * @param opts.timeoutMs - Optional timeout in milliseconds (defaults to no timeout)\n   * @param opts.onProgress - Optional callback which will be invoked every time the partial response is updated\n   * @param opts.abortSignal - Optional callback used to abort the underlying `fetch` call using an [AbortController](https://developer.mozilla.org/en-US/docs/Web/API/AbortController)\n   *\n   * @returns The response from ChatGPT\n   */\n  async sendMessage(text, opts = {}) {\n    if (!!opts.conversationId !== !!opts.parentMessageId) {\n      throw new Error(\n        \"ChatGPTUnofficialProxyAPI.sendMessage: conversationId and parentMessageId must both be set or both be undefined\"\n      );\n    }\n    if (opts.conversationId && !isValidUUIDv4(opts.conversationId)) {\n      throw new Error(\n        \"ChatGPTUnofficialProxyAPI.sendMessage: conversationId is not a valid v4 UUID\"\n      );\n    }\n    if (opts.parentMessageId && !isValidUUIDv4(opts.parentMessageId)) {\n      throw new Error(\n        \"ChatGPTUnofficialProxyAPI.sendMessage: parentMessageId is not a valid v4 UUID\"\n      );\n    }\n    if (opts.messageId && !isValidUUIDv4(opts.messageId)) {\n      throw new Error(\n        \"ChatGPTUnofficialProxyAPI.sendMessage: messageId is not a valid v4 UUID\"\n      );\n    }\n    const {\n      conversationId,\n      parentMessageId = uuidv42(),\n      messageId = uuidv42(),\n      action = \"next\",\n      timeoutMs,\n      onProgress\n    } = opts;\n    let { abortSignal } = opts;\n    let abortController = null;\n    if (timeoutMs && !abortSignal) {\n      abortController = new AbortController();\n      abortSignal = abortController.signal;\n    }\n    const body = {\n      action,\n      messages: [\n        {\n          id: messageId,\n          role: \"user\",\n          content: {\n            content_type: \"text\",\n            parts: [text]\n          }\n        }\n      ],\n      model: this._model,\n      parent_message_id: parentMessageId\n    };\n    if (conversationId) {\n      body.conversation_id = conversationId;\n    }\n    const result = {\n      role: \"assistant\",\n      id: uuidv42(),\n      parentMessageId: messageId,\n      conversationId,\n      text: \"\"\n    };\n    const responseP = new Promise((resolve, reject) => {\n      const url = this._apiReverseProxyUrl;\n      const headers = {\n        ...this._headers,\n        Authorization: `Bearer ${this._accessToken}`,\n        Accept: \"text/event-stream\",\n        \"Content-Type\": \"application/json\"\n      };\n      if (this._debug) {\n        console.log(\"POST\", url, { body, headers });\n      }\n      fetchSSE(\n        url,\n        {\n          method: \"POST\",\n          headers,\n          body: JSON.stringify(body),\n          signal: abortSignal,\n          onMessage: (data) => {\n            var _a, _b, _c;\n            if (data === \"[DONE]\") {\n              return resolve(result);\n            }\n            try {\n              const convoResponseEvent = JSON.parse(data);\n              if (convoResponseEvent.conversation_id) {\n                result.conversationId = convoResponseEvent.conversation_id;\n              }\n              if ((_a = convoResponseEvent.message) == null ? void 0 : _a.id) {\n                result.id = convoResponseEvent.message.id;\n              }\n              const message = convoResponseEvent.message;\n              if (message) {\n                let text2 = (_c = (_b = message == null ? void 0 : message.content) == null ? void 0 : _b.parts) == null ? void 0 : _c[0];\n                if (text2) {\n                  result.text = text2;\n                  if (onProgress) {\n                    onProgress(result);\n                  }\n                }\n              }\n            } catch (err) {\n              if (this._debug) {\n                console.warn(\"chatgpt unexpected JSON error\", err);\n              }\n            }\n          },\n          onError: (err) => {\n            reject(err);\n          }\n        },\n        this._fetch\n      ).catch((err) => {\n        const errMessageL = err.toString().toLowerCase();\n        if (result.text && (errMessageL === \"error: typeerror: terminated\" || errMessageL === \"typeerror: terminated\")) {\n          return resolve(result);\n        } else {\n          return reject(err);\n        }\n      });\n    });\n    if (timeoutMs) {\n      if (abortController) {\n        ;\n        responseP.cancel = () => {\n          abortController.abort();\n        };\n      }\n      return pTimeout2(responseP, {\n        milliseconds: timeoutMs,\n        message: \"ChatGPT timed out waiting for response\"\n      });\n    } else {\n      return responseP;\n    }\n  }\n};\nexport {\n  ChatGPTAPI,\n  ChatGPTError,\n  ChatGPTUnofficialProxyAPI,\n  openai\n};\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(694);\n"],"names":["exports","stringify","o","Buffer","isBuffer","JSON","toString","toJSON","s","array","Array","isArray","first","k","ignore","Object","hasOwnProperty","call","undefined","test","parse","key","value","from","substring","EventEmitter","JSONB","iterableAdapters","module","constructor","uri","emitErrors","options","super","this","opts","namespace","serialize","deserialize","store","adapterOptions","adapters","redis","rediss","mongodb","mongo","sqlite","postgresql","postgres","mysql","etcd","offline","tiered","adapter","exec","Map","loadStore","compression","bind","on","error","emit","generateIterator","iterator","async","raw","data","includes","expires","Date","now","delete","_getKeyUnprefix","Symbol","_checkIterableAdaptar","dialect","findIndex","element","url","_getKeyPrefix","_getKeyPrefixArray","keys","map","split","splice","join","get","keyPrefixed","getMany","promises","push","Promise","resolve","then","allSettled","values","result","row","set","ttl","deleteMany","every","x","clear","has","disconnect","webpackEmptyContext","req","e","Error","code","id","getConfig","fallback","config","vscode","workspace","getConfiguration","display","message","window","showInformationMessage","MainViewProvider","_extensionPath","_extensionUri","static","_view","resolveWebviewView","webviewView","_context","_token","webview","enableScripts","localResourceRoots","html","_getHtmlForWebview","onDidReceiveMessage","type","SecondaryViewProvider","runCommand","scriptUri","asWebviewUri","Uri","joinPath","styleResetUri","styleVSCodeUri","styleMainUri","nonce","getNonce","allTemplates","defaultTemplates","cspSource","template","command","label","postMessage","commands","executeCommand","styleSecondaryUri","text","i","charAt","Math","floor","possible","random","context","mainViewProvider","extensionPath","extensionUri","subscriptions","registerWebviewViewProvider","viewType","webviewOptions","retainContextWhenHidden","secondaryViewProvider","replaceLinesDisposable","registerCommand","editor","activeTextEditor","selection","startLine","start","line","endLine","end","capturedText","edit","WorkspaceEdit","document","lineAt","range","Range","replace","applyEdit","templateHandler","builtinTemplates","userTemplates","forEach","String","Chat","AbortController","api","ChatGPTAPI","newText","Position","ask","question","newApi","apiKey","debug","currentMessageNumber","sendMessage","onProgress","partialResponse","timeoutMs","abortSignal","abort","signal","languageId","commandArgs","userMessageTemplate","showInputBox","prompt","selectedText","getText","getSelectionInfo","rendered","render","languageInstructions","CallbackType","userMessage","textSelection","baseTemplate","model","maxTokens","temperature","numberOfChoices","systemMessageTemplate","callbackType","Replace","javascript","typescript","cpp","csharp","java","getCommandTemplate","base","assign","find","t","ret","trim","require","wasm","imports","path","fs","candidates","__dirname","sep","reduce","memo","_","index","prefix","slice","unshift","bytes","candidate","readFileSync","wasmModule","WebAssembly","Module","wasmInstance","Instance","__wbg_set_wasm","val","heap","fill","getObject","idx","heap_next","length","takeObject","dropObject","WASM_VECTOR_LEN","cachedUint8Memory0","getUint8Memory0","byteLength","Uint8Array","memory","buffer","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","read","written","passStringToWasm0","malloc","realloc","ptr","subarray","len","mem","offset","charCodeAt","cachedInt32Memory0","getInt32Memory0","Int32Array","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","getStringFromWasm0","decode","addHeapObject","obj","cachedUint32Memory0","getUint32Memory0","Uint32Array","getArrayU32FromWasm0","getArrayU8FromWasm0","handleError","f","args","apply","__wbindgen_export_3","get_encoding","encoding","extend_special_tokens","retptr","__wbindgen_add_to_stack_pointer","ptr0","__wbindgen_export_0","__wbindgen_export_1","len0","r0","r1","Tiktoken","__wrap","encoding_for_model","tiktoken_bfe","special_tokens","pat_str","ptr1","len1","tiktoken_new","name","tiktoken_name","v0","__wbindgen_export_2","create","prototype","__destroy_into_raw","free","__wbg_tiktoken_free","allowed_special","disallowed_special","tiktoken_encode","r2","v1","encode_ordinary","tiktoken_encode_ordinary","encode_with_unstable","tiktoken_encode_with_unstable","encode_single_token","passArray8ToWasm0","tiktoken_encode_single_token","tokens","passArray32ToWasm0","tiktoken_decode","decode_single_token_bytes","token","tiktoken_decode_single_token_bytes","token_byte_values","tiktoken_token_byte_values","__wbindgen_object_drop_ref","arg0","__wbindgen_is_undefined","__wbg_stringify_029a979dfb73aa17","arguments","__wbindgen_string_get","arg1","__wbindgen_error_new","__wbg_parse_3ac95b51fc312db8","__wbindgen_throw","TimeoutError","AbortError","getDOMException","errorMessage","globalThis","DOMException","getAbortedReason","reason","pTimeout","promise","milliseconds","customTimers","setTimeout","clearTimeout","timer","cancelablePromise","reject","sign","TypeError","Number","POSITIVE_INFINITY","aborted","addEventListener","timeoutError","cancel","QuickLRU","maxSize","maxAge","onEviction","cache","oldCache","_size","_emitEvictions","item","_deleteIfExpired","expiry","_getOrDeleteIfExpired","_getItemValue","_peek","_set","_moveToRecent","peek","deleted","resize","newSize","items","_entriesAscending","removeCount","size","oldCacheSize","min","entries","entriesAscending","callbackFunction","thisArgument","toStringTag","randomUUID","rnds8Pool","poolPtr","rng","byteToHex","rnds","arr","toLowerCase","unsafeStringify","BOM","openai","tokenizer","ChatGPTError","fetch","fetchSSE","fetch2","onMessage","onError","fetchOptions","res","ok","err","statusText","msg","status","cause","statusCode","parser","onParse","isFirstChunk","startingPosition","startingFieldLength","eventId","eventName","reset","feed","chunk","charCode","hasBom","position","discardTrailingNewline","character","lineLength","fieldLength","parseEventStreamLine","lineBuffer","event","noValue","field","step","valueLength","concat","retry","parseInt","isNaN","createParser","_a","response","detail","console","body","getReader","stream","reader","done","releaseLock","streamAsyncIterable","str","apiOrg","apiBaseUrl","messageStore","completionParams","systemMessage","maxModelTokens","maxResponseTokens","getMessageById","upsertMessage","_apiKey","_apiOrg","_apiBaseUrl","_debug","_fetch","_completionParams","top_p","presence_penalty","_systemMessage","currentDate","toISOString","_maxModelTokens","_maxResponseTokens","_getMessageById","_defaultGetMessageById","_upsertMessage","_defaultUpsertMessage","_messageStore","parentMessageId","messageId","conversationId","abortController","latestQuestion","role","messages","numTokens","_buildMessages","responseP","_b","headers","Authorization","max_tokens","log","method","_a2","choices","delta","content","warn","catch","json","res2","message2","usage","promptTokens","completionTokens","_getTokenCount","prompt_tokens","completion_tokens","total_tokens","estimated","all","maxNumTokens","systemMessageOffset","nextMessages","prompt2","nextNumTokensEstimate","isValidPrompt","parentMessage","parentMessageRole","max","input","uuidv4Re","isValidUUIDv4","ChatGPTUnofficialProxyAPI","accessToken","apiReverseProxyUrl","_accessToken","_apiReverseProxyUrl","_model","_headers","action","content_type","parts","parent_message_id","conversation_id","Accept","_c","convoResponseEvent","text2","errMessageL","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","n","getter","__esModule","d","a","definition","defineProperty","enumerable","prop","r","nmd","paths","children","__webpack_exports__"],"sourceRoot":""}